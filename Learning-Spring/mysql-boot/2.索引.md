

#### **聚簇索引的特点**

```
1、MYSQL的表结构由聚簇索引来构建，表结构本身就是索引的一部分。
2、通过表的主键来构建B+Tree（平衡+树），因为InnoDB存储引擎是一个索引表，这意味着每张表都由一个主键，如果没用显示的创建主键，则InnoDB会创建一个六个字符串的主键，聚簇索引不仅仅包含索引的键值，还包含了记录其他列的信息。
3、聚簇索引的根据键值顺序存放的，然而特表注意的是这个顺序是指逻辑顺序，而不是物理上的存储顺序，因为人如果是物理顺序，那么排序的开销是不被接受的。
4、聚簇索引的非叶子节点存储的是<键值,地址>对，地址是指向下一层的指针，InnoDB存储引擎通过页在表空间的偏移量来表示。
5、创建表如果指定主键，那么会自动以指定的主键进行查询，互联网业务种中，大多数的OLTP业务中，都是根据主键来查询数据，同时查询速度也非常快。
```





#### **通俗概述** 

```text
1、如果表里面有主键，优先通过主键来构建聚簇索引；
2、如果没用主键，但是有唯一性非空的索引，可以用过唯一性非空索引来进行主键聚簇索引的构建（有一个非空列，并且唯一，我们可以拿来做聚簇索引）；
3、MYSQL会自己构建隐藏列来实现聚簇索引，也就是我们通常所说的RowID；
```



#### 开发建议

```
1、MYSQL是通过主键的索引，来存放数据的，那么通过主键的方式查询，效率也是最高的；
2、在我们设计表时，优先使用自增，因为MYSQL是同构聚簇索引来实现主键的排序，在存储时，就降低了在新增数据时，IO排序的消耗(以及空间利用率，这个我也没有懂)；
MYSQL INNODB的数据，存储在聚簇索引的叶子节点上，以主键进行排序，那么通过主键查询，提供查询效率；
3、除开主键查询外，其实还有辅助索引（二级索引、非聚簇索引），来实现对于非主键的查询的优化，select name from emp where name = ''，如果我们在name上没有索引，此时走的就是全表扫描，我们可以在name列上构建辅助索引，来避免全表扫描，提高扫描执行效率（一般我们都需要避免全表扫描）；
4、在聚簇索引的查询中，只能搜索到固定的叶子节点的数据块，如果准确的定位具体的row值，在块内进行相应的二分法查询。而且数据块里面的数据行，是逻辑排序的关系，并不是物理排序关系，避免了我们因为大量排序造成的系统IO的大量开销。
```

#### 覆盖索引

```
select name from emp where name = ''

扫描辅助索引，并且返回的值业务辅助索引的值，我们叫做覆盖索引。

```

